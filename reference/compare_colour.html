<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate the distance between colours — compare_colour • farver</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the distance between colours — compare_colour"><meta property="og:description" content="There are many ways to measure the distance between colours. farver
provides 5 different algorithms, ranging from simple euclidean distance in
RGB space, to different perceptual measures such as CIE2000."><meta property="og:image" content="https://farver.data-imaginist.com/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">farver</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2019/the-colour-of-everything/" class="external-link">Version 2.0.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/thomasp85/farver" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate the distance between colours</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/farver/blob/HEAD/R/compare_colour.R" class="external-link"><code>R/compare_colour.R</code></a></small>
    <div class="hidden name"><code>compare_colour.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>There are many ways to measure the distance between colours. <code>farver</code>
provides 5 different algorithms, ranging from simple euclidean distance in
RGB space, to different perceptual measures such as CIE2000.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compare_colour</span><span class="op">(</span></span>
<span>  <span class="va">from</span>,</span>
<span>  to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">from_space</span>,</span>
<span>  to_space <span class="op">=</span> <span class="va">from_space</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  white_from <span class="op">=</span> <span class="st">"D65"</span>,</span>
<span>  white_to <span class="op">=</span> <span class="va">white_from</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>from, to</dt>
<dd><p>Numeric matrices with colours to compare - the format is the
same as that for <code><a href="convert_colour.html">convert_colour()</a></code>. If <code>to</code> is not set <code>from</code> will be
compared with itself and only the upper triangle will get calculated</p></dd>


<dt>from_space, to_space</dt>
<dd><p>The colour space of <code>from</code> and <code>to</code> respectively.
<code>to_space</code> defaults to be the same as <code>from_space</code>.</p></dd>


<dt>method</dt>
<dd><p>The method to use for comparison. Either <code>'euclidean'</code>,
<code>'cie1976'</code>, <code>'cie94'</code>, <code>'cie2000'</code>, or <code>'cmc'</code></p></dd>


<dt>white_from, white_to</dt>
<dd><p>The white reference of the from and to colour
space. Will only have an effect for relative colour spaces such as Lab and
luv. Any value accepted by <code><a href="as_white_ref.html">as_white_ref()</a></code> allowed.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A numeric matrix with the same number of rows as colours in <code>from</code></p>


<p>and the same number of columns as colours in <code>to</code>. If <code>to</code> is not given, only
the upper triangle will be returned.</p>
    </div>
    <div id="handling-of-non-finite-and-out-of-bounds-values">
    <h2>Handling of non-finite and out of bounds values</h2>
    

<p><code>NA</code>, <code>NaN</code>, <code>-Inf</code>, and <code>Inf</code> are treated as invalid input and will result
in <code>NA</code> values for the colour. If a given colourspace has finite bounds in
some of their channels, the input will be capped before conversion, and the
output will be capped before returning, so that both input and output colours
are valid colours in their respective space. This means that converting back
and forth between two colourspaces may result in a change in the colour if
the gamut of one of the spaces is less than the other.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="decode_colour.html">decode_colour</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="decode_colour.html">decode_colour</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">heat.colors</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare two sets of colours</span></span></span>
<span class="r-in"><span><span class="fu">compare_colour</span><span class="op">(</span><span class="va">r</span>, <span class="va">h</span>, <span class="st">'rgb'</span>, method <span class="op">=</span> <span class="st">'cie2000'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]      [,3]     [,4]     [,5]     [,6]      [,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]  0.00000  0.9533762  3.000824  6.57770 11.40975 17.52601 24.723573</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 29.50083 28.5558177 26.521813 22.95539 18.11996 11.98805  4.775709</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 72.33606 71.3575538 69.242820 65.50814 60.39647 53.85364 46.123120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 85.84698 84.7949077 82.516916 78.48359 72.95656 65.91025 57.700879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 85.92110 84.8858340 82.646223 78.68939 73.29065 66.45879 58.585358</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 70.95853 70.2695051 68.802658 66.28933 63.01735 59.12704 54.973704</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 50.38091 50.6204430 51.184821 52.32043 54.12124 56.78372 60.394557</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 52.15698 52.7007613 53.923828 56.23309 59.66383 64.36086 69.987595</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 44.47475 44.9165073 45.932292 47.90510 50.91157 55.17495 60.707919</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 30.89123 31.3674680 32.487084 34.71591 38.15422 42.98987 49.095286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,8]     [,9]    [,10]    [,11]      [,12]      [,13]    [,14]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 32.67872 40.97546 49.52951 57.25740  64.299474  63.895520 60.57729</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]  3.16786 11.38266 19.71938 27.08742  33.646908  33.488301 32.47947</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 37.67285 29.15780 20.92325 14.21750   9.325976   9.059491 10.49557</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 48.97226 40.53408 32.80674 26.89319  22.660408  22.341120 21.56970</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 50.32473 42.44960 35.33751 29.96925  26.166094  25.707067 23.60073</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 50.98220 47.53531 44.77211 42.98433  41.972721  41.436516 37.40409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 64.89992 70.06575 75.76079 81.12373  86.129806  85.536298 80.31417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 76.18219 82.84641 89.96539 96.53168 102.567205 101.830677 95.66170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 67.30314 74.52107 82.12052 88.99246  95.209202  94.367152 87.31037</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 56.09295 63.45764 70.99828 77.74381  83.865025  83.098194 76.75948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          [,15]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 52.36649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 32.00440</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 21.49275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 26.48901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 25.76501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 28.94258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 64.93634</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 78.99746</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 67.87546</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 59.84362</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare a set of colours with itself</span></span></span>
<span class="r-in"><span><span class="fu">compare_colour</span><span class="op">(</span><span class="va">r</span>, from_space <span class="op">=</span> <span class="st">'rgb'</span>, method <span class="op">=</span> <span class="st">'cmc'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       [,1]     [,2]      [,3]      [,4]      [,5]     [,6]      [,7]     [,8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]    0 10.52597 18.003563 15.958871 15.623504 23.06674  5.030710 11.74396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]    0  0.00000  9.732855 12.581267  7.948242 12.62015  9.568638 21.39777</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]    0  0.00000  0.000000  5.729119  1.877060 14.58716 16.089339 22.78038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]    0  0.00000  0.000000  0.000000  5.253523 18.88463 16.297394 19.60278</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]    0  0.00000  0.000000  0.000000  0.000000 14.46503 14.540410 21.56755</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]    0  0.00000  0.000000  0.000000  0.000000  0.00000 21.444871 37.66022</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]    0  0.00000  0.000000  0.000000  0.000000  0.00000  0.000000 14.69552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]    0  0.00000  0.000000  0.000000  0.000000  0.00000  0.000000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]    0  0.00000  0.000000  0.000000  0.000000  0.00000  0.000000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]    0  0.00000  0.000000  0.000000  0.000000  0.00000  0.000000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,9]     [,10]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]  3.885606  5.174003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 13.496209  6.515862</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 15.389917 13.626292</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 12.801400 14.321552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 13.988362 12.037620</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 29.707650 18.989681</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]  8.957990  3.701201</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 11.098901 17.436529</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]  0.000000  8.718964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]  0.000000  0.000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare colours from different colour spaces</span></span></span>
<span class="r-in"><span><span class="va">h_luv</span> <span class="op">&lt;-</span> <span class="fu"><a href="convert_colour.html">convert_colour</a></span><span class="op">(</span><span class="va">h</span>, <span class="st">'rgb'</span>, <span class="st">'luv'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">compare_colour</span><span class="op">(</span><span class="va">r</span>, <span class="va">h_luv</span>, <span class="st">'rgb'</span>, <span class="st">'luv'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]      [,2]     [,3]     [,4]     [,5]     [,6]     [,7]     [,8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 269.75047 266.98290 261.3195 252.2761 241.5891 230.1999 219.2811 209.6951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 206.44011 205.64789 204.2222 202.5385 201.6224 202.1931 204.6754 209.0740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 174.78715 176.24962 179.5202 185.5461 194.0407 204.9786 217.7871 231.7625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]  88.47164  92.42388 100.6683 114.3188 131.3838 151.0651 172.0906 193.4469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 115.57637 117.88566 122.9627 132.0420 144.3498 159.5508 176.6664 194.7251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 237.53853 237.90584 238.8600 240.9830 244.5478 249.8338 256.7524 264.9852</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 235.28781 233.18662 228.9612 222.4461 215.1867 208.1223 202.2425 198.1545</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 278.98265 275.69390 268.8986 257.8385 244.3546 229.3136 213.9318 199.1665</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 317.10351 313.89311 307.2456 296.3769 283.0180 267.9184 252.1564 236.5575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 290.89512 287.69780 281.0874 270.3128 257.1382 242.3644 227.1189 212.2718</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,9]    [,10]    [,11]    [,12]    [,13]    [,14]    [,15]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 201.9461 196.0358 192.4455 190.7461 188.9878 176.3276 158.9800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 215.1081 222.7265 230.9081 239.6480 238.3923 229.6493 219.0854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 246.2732 261.4841 275.8258 289.7788 288.8310 282.3895 275.4135</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 214.4548 235.5892 254.9104 273.2789 272.3119 265.7935 259.1322</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 212.9741 231.6944 249.0506 265.7198 265.9122 268.6680 280.6467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 274.1305 284.2483 294.2037 304.2199 305.9190 320.0701 352.0550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 196.0771 195.9797 197.6374 200.7253 203.1255 222.6780 264.5882</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 185.6644 173.3355 163.4112 155.4158 158.3398 181.6162 229.2526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 221.6549 207.1638 194.4319 182.8782 185.3136 205.1393 247.5072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 198.3929 185.2913 174.2208 164.6657 165.4737 173.6139 198.0978</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Berendea Nicolae, Romain François.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

